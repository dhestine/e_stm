#include "stm32f4xx.h"

int main(void){

	//ENABLE CLOCK TO GPIOA AND GPIOC
	RCC->AHB1ENR |= RCC_AHB1ENR_GPIOAEN | RCC_AHB1ENR_GPIOCEN;

	//CONFIGURE PC5, PC6, PC8, and PC9 AS OUTPUTS
	GPIOC->MODER |= GPIO_MODER_MODER5_0 | GPIO_MODER_MODER6_0 | GPIO_MODER_MODER8_0 | GPIO_MODER_MODER9_0 ;

	//CONFIGURE PA5 as INPUT
	GPIOA->MODER = GPIO_MODER_MODER5_0;

    //CONFIGURE PC13 as OUTPUT
	GPIOC->MODER &= ~GPIO_MODER_MODER13_Msk;

	//LOOP to check if BUTTON is CLICKED or NOT
	while(1) {
		if(!(GPIOC->IDR & GPIO_IDR_ID13) == 0){
			//turn on 4 external LED
			GPIOC->BSRR |= GPIO_BSRR_BS5 | GPIO_BSRR_BS6 | GPIO_BSRR_BS8 | GPIO_BSRR_BS9;

			//turn off internal LED
			GPIOA->BSRR |= GPIO_BSRR_BR5;
		}else{
			//Turn off 4 external LED
			GPIOC->BSRR |= GPIO_BSRR_BR5 | GPIO_BSRR_BR6 | GPIO_BSRR_BR8 | GPIO_BSRR_BR9;
			//Turn on internal LED
			GPIOA->BSRR |= GPIO_BSRR_BS5;
		}
	}


}
